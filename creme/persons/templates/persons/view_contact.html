{% extends "creme_core/generics/view_entity.html" %}
{% load i18n %}
{% load media %}
{% load creme_core_tags %}{% load creme_block %}

{% block creme_blocks_import %}
    {{block.super}}
    {% import_block from_app 'persons' named 'address' as 'address_block' %}
    {% import_block from_app 'persons' named 'other_address' as 'other_address_block' %}
{% endblock %}

{% block logo %}<img src="{% media_url 'images/contacts_64.png' %}" alt=""/>{% endblock %}

{% block detail_view_left_1 %}
    <!--{% cycle "block_header_line_dark" "block_header_line_light" as header_color %}
        {% cycle "block_line_dark" "block_line_light" as row_color %}-->
    <table class="table_detail_view ui-corner-all">
        {% get_block_header colspan=2 %}
            <th style="width: 80%;" class="collapser">{% get_basic_block_header _('Contact information') 'infos_48.png' _('Information') %}</th>
            <th style="width: 20%;" align="right"></th>
        {% end_get_block_header %}
        <tbody class="collapsable">
            <tr>
                <th class="{% cycle header_color %} th_info">{% trans "Creation date" %}</th>
                <td class="{% cycle row_color %} td_info">{% print_field object=object field='created' %}</td>
            </tr>
            <tr>
                <th class="{% cycle header_color %} th_info">{% trans "Last modification" %}</th>
                <td class="{% cycle row_color %} td_info">{% print_field object=object field='modified' %}</td>
            </tr>
            <tr>
                <th class="{% cycle header_color %} th_info">{% trans "Civility" %}</th>
                <td class="{% cycle row_color %} td_info">{% print_field object=object field='civility' %}</td>
            </tr>
            <tr>
                <th class="{% cycle header_color %} th_info">{% trans "First name" %}</th>
                <td class="{% cycle row_color %} td_info">{% print_field object=object field='first_name' %}</td>
            </tr>
            <tr>
                <th class="{% cycle header_color %} th_info">{% trans "Last name" %}</th>
                <td class="{% cycle row_color %} td_info">{% print_field object=object field='last_name' %}</td>
            </tr>
            <tr>
                <th class="{% cycle header_color %} th_info">{% trans "Sector" %}</th>
                <td class="{% cycle row_color %} td_info">{% print_field object=object field='sector' %}</td>
            </tr>
            <tr>
                <th class="{% cycle header_color %} th_info">{% trans "Position" %}</th>
                <td class="{% cycle row_color %} td_info">{% print_field object=object field='position' %}</td>
            </tr>
            <tr>
                <th class="{% cycle header_color %} th_info">{% trans "Assigned to" %}</th>
                <td class="{% cycle row_color %} td_info">{% print_field object=object field='user' %}</td>
            </tr>
            <tr>
                <th class="{% cycle header_color %} th_info">{% trans "Linked Creme user" %}</th>
                <td class="{% cycle row_color %} td_info">{{object.is_user|default:_('None') }}</td>
            </tr>
            <tr>
                <th class="{% cycle header_color %} th_info">{% trans "Birthday" %}</th>
                <td class="{% cycle row_color %} td_info">{% print_field object=object field='birthday' %}</td>
            </tr>
            <tr>
                <th class="{% cycle header_color %} th_info">{% trans "Photo" %}</th>
                <td class="{% cycle row_color %} td_info">{% if object.image %}{% get_entity_summary object.image user %}{% endif %}</td>
            </tr>
        </tbody>
    </table>

    <table class="table_detail_view ui-corner-all">
        <thead>
            <tr>
                <th align="left" colspan="2" class="collapser">{% trans "Coordinates of the contact" %}</th>
            </tr>
        </thead>
        <tbody class="collapsable">
            <tr>
                <th class="{% cycle header_color %} th_info">{% trans "Phone" %}</th>
                <td class="{% cycle row_color %} td_info">{% print_field object=object field='phone' %}</td>
            </tr>
            <tr>
                <th class="{% cycle header_color %} th_info">{% trans "Mobile" %}</th>
                <td class="{% cycle row_color %} td_info">{% print_field object=object field='mobile' %}</td>
            </tr>
            <tr>
                <th class="{% cycle header_color %} th_info">{% trans "Fax" %}</th>
                <td class="{% cycle row_color %} td_info">{% print_field object=object field='fax' %}</td>
            </tr>
            <tr>
                <th class="{% cycle header_color %} th_info">{% trans "E-mail" %}</th>
                <td class="{% cycle row_color %} td_info">{% print_field object=object field='email' %}</td>
            </tr>
            <tr>
                <th class="{% cycle header_color %} th_info">{% trans "Web Site" %}</th>
                <td class="{% cycle row_color %} td_info">{% print_field object=object field='url_site' %}</td>
            </tr>
            <tr>
                <th class="{% cycle header_color %} th_info">Skype</th>
                <td class="{% cycle row_color %} td_info">{% print_field object=object field='skype' %}</td>
            </tr>
        </tbody>
    </table>

    <table class="table_detail_view ui-corner-all">
        {% get_block_header colspan=2 %}
            <th style="width: 80%;" class="collapser">{% get_basic_block_header _('Other Information') 'infos_48.png' _('Information') %}</th>
            <th style="width: 20%;" align="right"></th>
        {% end_get_block_header %}
        <tbody class="collapsable">
            <tr>
                <th class="{% cycle header_color %} th_info">{% trans "Description" %}</th>
                <td class="{% cycle row_color %} td_info">{% print_field object=object field='description' %}</td>
            </tr>
        </tbody>
    </table>

    {% include "creme_core/customfields_as_table.html" %}

    {% display_block_detailview 'address_block' %}
    {% display_block_detailview 'other_address_block' %}
    {% display_block_detailview 'properties_block' %}
    {% display_block_detailview 'relations_block' %}
{% endblock %}