/*******************************************************************************
    Creme is a free/open-source Customer Relationship Management software
    Copyright (C) 2009-2010  Hybird

    This program is free software: you can redistribute it and/or modify
    it under the terms of the GNU Affero General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    This program is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Affero General Public License for more details.

    You should have received a copy of the GNU Affero General Public License
    along with this program.  If not, see <http://www.gnu.org/licenses/>.
*******************************************************************************/

creme.media_managers = {};

//image_m2m_widget.unloadHandler = function(e, popup_url) {
//    alert('a');
//    console.log(e);
//}


// creme.media_managers.createImageM2MWidget = function(url, name) {
//     creme.utils.openWindow(url, 'create_image');
// 
//     if(window[name]) {
//         var popup_url = window[name].location.href;
//         window[name].close();
//     } else {
//         var popup_url = '';
//     }
// 
// //    console.log(popup_url);
// //
// //
// //    if(window['create_image'].addEventListener)
// //        window['create_image'].addEventListener('unload',function(e, popup_url){image_m2m_widget.unloadHandler(e, popup_url)},false);
// //    else if (window['create_image'].attachEvent)
// //    {
// //        window['create_image'].attachEvent('onunload',function(){image_m2m_widget.unloadHandler()});
// ////        window['create_image'].attachEvent('onbeforeunload',function(){alert('aaa');});
// //    }
// }
