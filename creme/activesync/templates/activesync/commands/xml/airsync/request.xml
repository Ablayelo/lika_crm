<?xml version="1.0" encoding="utf-8"?>
<Sync xmlns="AirSync:"{% for pref, ns in extra_ns.iteritems %} xmlns:{{pref}}="{{ns}}"{% endfor %}>
    <Collections>
        <Collection>
            <Class>{{class}}</Class>
            <SyncKey>{{synckey}}</SyncKey>
            <CollectionId>{{server_id}}</CollectionId>
            {% if synckey == 0 %}
            <Supported>
                {% for tag in supported %}
                    {{tag|safe}}
                {% endfor %}
            </Supported>
            {% endif %}
            {% if fetch %}
            <DeletesAsMoves/>
            <GetChanges/>
                {% if options %}
                    <Options>
                        {% for tag, value in options.iteritems %}<{{tag}}>{{value}}</{{tag}}>{% endfor %}
                    </Options>
                {% endif %}
            {% endif %}
            {% if not fetch and objects %}
            <Commands>
                {% for obj in objects %}
                    {{obj|safe}}
                {% endfor %}
            </Commands>
            {% endif %}
        </Collection>
    </Collections>
</Sync>

